---
description: Структура и архитектура проекта
globs:
alwaysApply: true
---
# Структура проекта

- `src/pages/` — страницы приложения для пользователя (только UI)
- `src/config/` — конфигурационные файлы (налоговые ставки, настройки рабочего календаря)
- `src/content/` — markdown файлы со статьями
- `src/usecases/` — все Use Case по Clean Architecture, которые реализует проект. Каждый Use Case независим и самодостаточен.
- `src/helpers/` — небольшие утилитарные функции общего назначения, которые нужны везде.
- `scripts/` — скрипты для сборки и генерации данных
- `public/` — публичные статические файлы
- `.cursor/prds/` — хранилище PRD

# Работа с сайдбаром и главной зоной

## Компонент Layout

Все страницы обёрнуты в компонент `Layout` (`src/pages/common/Layout.tsx`), который управляет структурой страницы:

- **Header** — отображается только на мобильных устройствах (скрыт на lg+), содержит кнопку открытия меню
- **Sidebar** — боковое меню навигации
- **Main** — главная зона контента
- **Footer** — футер внизу страницы (скрыт на lg+)

## Sidebar

Компонент `Sidebar` (`src/pages/common/Sidebar.tsx`) отображает навигационное меню:

- **На десктопе (lg+)**: всегда виден, зафиксирован слева (sticky), ширина 72 (w-72)
- **На мобильных**: скрыт по умолчанию, открывается по клику на кнопку в Header, появляется как overlay

### Навигационные секции

Секции навигации определяются в массиве `navSections` внутри компонента `Sidebar`:
- Первая секция без заголовка — основные страницы (калькулятор, календарь)
- Вторая секция "Статьи" — список статей

Для добавления новой страницы в навигацию добавь элемент в массив `navSections`.

### Активное состояние ссылок

Sidebar автоматически подсвечивает активную ссылку на основе текущего URL через `useLocation` из `react-router-dom`. Функция `isActive` определяет активность ссылки с учётом вложенных путей.

## Главная зона (Main)

Главная зона содержит контент страницы:

- Обёрнута в `<main>` элемент с классом `flex-1 flex flex-col min-w-0`
- Внутри контент обёрнут в `<div>` с классами `flex-grow py-8 px-4 sm:px-6 lg:px-8`
- Далее идёт контейнер с `max-w-7xl mx-auto` для ограничения ширины контента и центрирования
- Внутри этого контейнера рендерится `children` (контент страницы)

## Добавление новой страницы

1. Создай компонент страницы в соответствующей папке (`src/pages/PageNew/`, `src/pages/articles/` и т.д.)
2. Добавь роут в `src/App.tsx`
3. При необходимости добавь ссылку в `navSections` в `Sidebar.tsx`
4. Компонент автоматически обернётся в `Layout` через роутинг